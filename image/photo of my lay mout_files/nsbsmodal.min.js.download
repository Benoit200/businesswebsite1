!function(t){t.fn.nsbsmodal=function(o){const a=t.extend({},{width:"1366",maxwidth:"1366",height:"768",maxheight:"768",zindex:"10000",autoplay:"true",hdrMxWidth:"1920"},o);function d(o){modalBodyContent=t("<iframe>");const d=i(a.width,a.height);return modalBodyContent.attr({width:d.width,height:o.match(/vimeo\.com/i)?d.height-34:d.height,src:o,frameborder:"0"}),a.autoplay&&modalBodyContent.attr("allow","autoplay"),modalBodyContent}function e(o){modalBodyContent=t("<video>");const d=t("<source>"),e=i(a.width,a.height);return modalBodyContent.attr({width:e.width}),modalBodyContent.prop("controls",!0),a.autoplay&&modalBodyContent.prop("autoplay",!0),d.attr("src",o),modalBodyContent.append(d),modalBodyContent}function i(o,d){const e=a.maxheight<t(window).height()?a.maxheight:t(window).height(),i=a.maxwidth<t(window).width()?a.maxwidth:t(window).width();let n=o,s=d;const h=i<576?20:200;if(o>=i||d>=e)for(isFit=!1;!isFit;)n>=i?(n=i-h,s=d/o*n):s>=e?(s=e-h,n=o/d*s):isFit=!0;return{width:n,height:s}}return this.data("nsbsmodalIsInitialized",!0),t.fn.nsbsmodal.open=function(o){return function(o){const n=t("body"),s=t("<div>"),h=t("<div>"),m=t("<div>"),l=t("<div>"),r=t("<button>"),p=t("<span>"),c=t("<div>");let u;s.attr({id:"nsbsmodal",role:"dialog","aria-hidden":"true",tabindex:"-1"}),s.addClass("modal fade"),s.css("z-index",a.zindex),h.addClass("modal-dialog modal-dialog-centered mx-auto"),m.addClass("modal-content border-0 bg-transparent"),l.addClass("modal-header p-0 border-bottom-0"),r.addClass("close"),r.css("opacity","1"),r.attr({type:"button","data-dismiss":"modal","aria-label":"Close"}),p.attr({"aria-hidden":"true"}),p.addClass("text-white"),p.text(String.fromCharCode(215)),p.css({"font-size":"25px"}),c.addClass("modal-body p-0"),s.append(h),h.append(m),m.append(l),l.append(r),r.append(p),m.append(c);let w,b,y,g,f={width:a.width,height:a.height};switch(function(t){return t.match(/youtube\.com/i)||t.match(/youtu\.be/i)||t.match(/youtube-nocookie\.com/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/.(mp4|webm|ogg)/i)?"html5vid":"image"}(o)){case"youtube":const m=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;w=o.match(m)[1],b="https://www.youtube.com/embed/"+w+"?rel=0",a.autoplay&&(b+="&autoplay=1"),y=d(b),h.css("max-width",y.attr("width")+"px"),c.append(y),n.append(s),t("#nsbsmodal").modal("show");break;case"vimeo":w=o.split("vimeo.com/")[1],b="https://player.vimeo.com/video/"+w+"?title=0&byline=0&portrait=0",a.autoplay&&(b+="&autoplay=1"),y=d(b),h.css("max-width",y.attr("width")+"px"),c.append(y),n.append(s),t("#nsbsmodal").modal("show");break;case"html5vid":g=e(o),h.css("max-width",g.attr("width")+"px"),c.append(g),n.append(s),t("#nsbsmodal").modal("show");break;case"image":(async function(t){let o;const a=new Promise((a=>{o=new Image,o.onload=a,o.src=t}));return await a,o})(o).then((a=>{f=i(a.width,a.height),h.css("max-width",f.width+"px"),u=t("<img>"),u.attr({src:o}),u.attr({width:f.width,height:f.height,src:o}),c.append(u),n.append(s),t("#nsbsmodal").modal("show")}))}}(o),!1},t.fn.nsbsmodal.close=function(){return t("#nsbsmodal").remove(),!1},this}}(jQuery),$(document).on("hidden.bs.modal","#nsbsmodal",(function(t){$.fn.nsbsmodal.close()})),$((function(){const t=".popup-video, .popup-img, .img-popup, .popup-toggle";$("body").on("click",t,(function(o){$(this).data("nsbsmodalIsInitialized")||$(t).nsbsmodal();let a=$(this).attr("href")||$(this).attr("data-video-modal");return $.fn.nsbsmodal.open(a),!1}))}));