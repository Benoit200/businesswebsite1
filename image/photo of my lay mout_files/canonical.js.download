// USA check
var domaintest = document.location.host;
var canonical = '';
if (domaintest === "www.netsuite.com") { //Comparing domain with a NetSuite owned domain such as 'www.netsuite.com'. If on a staging server www.netsuite.com will need to be changed to the relevant staging server domain for example staging.netsuite.com. If the variable 'url' is equal to the stated domain execute the first Javascript code, otherwise move to the first 'Else if' statement
	var href = document.location.pathname; // gets the path name for example /portal/au/products/oneworld.shtml and places it in the variable 'href'  
	if (href.includes("/in/")) {
		// CANONICAL TAG -----------
		// India
		canonical = href.replace("/portal/in/", "https://www.netsuite.com/portal/in/"); // replaces /portal/in/ with https://www.netsuite.com/portal/in/. this is redundant however keeps it simple when changing across domains 
	} else {
		// CANONICAL TAG -----------
		// USA
		canonical = href.replace("/portal/", "https://www.netsuite.com/portal/"); // replaces /portal/ with https://www.netsuite.com/portal/. this is redundant however keeps it simple when changing across domains 
	}
}
// UK check
else if (domaintest === "www.netsuite.co.uk") { // If on a staging server www.netsuite.com will need to be changed to the relevant staging server domain. If the variable 'url' is equal to the stated domain execute the first 'else if' Javascript code, otherwise move to the first Else if statement
	var href = document.location.pathname;
	// CANONICAL TAG
	//UK
	canonical = href.replace("/portal/uk/", "https://www.netsuite.co.uk/portal/uk/"); // replaces /portal/uk with https://www.netsuite.com.uk/portal/uk/
}
// AU check
else if (domaintest === "www.netsuite.com.au") { //Comparing domain with a NetSuite owned domain such as www.netsuite.com.au or if on a staging server it maybe staging.netsuite.com.au. If equal to stated domain execute the first If Statement
	var href = document.location.pathname;
	// CANONICAL TAG
	//AU
	canonical = href.replace("/portal/au/", "https://www.netsuite.com.au/portal/au/"); // replaces /portal/au/ with https://www.netsuite.com.au/portal/au/
}
// SG check
else if (domaintest === "www.netsuite.com.sg") { //Comparing domain with a NetSuite owned domain such as www.netsuite.com.au or if on a staging server it maybe staging.netsuite.com.au. If equal to stated domain execute the first If Statement
	var href = document.location.pathname;
	// CANONICAL TAG
	//SG
	canonical = href.replace("/portal/sg/", "https://www.netsuite.com.sg/portal/sg/"); // replaces /portal/sg/ with https://www.netsuite.com.sg/portal/sg/ 
}
// HK check
else if (domaintest === "www.netsuite.com.hk") { //Comparing domain with a NetSuite owned domain such as www.netsuite.com.au or if on a staging server it maybe staging.netsuite.com.au. If equal to stated domain execute the first If Statement
	var href = document.location.pathname;
	// CANONICAL TAG
	//HK
	canonical = href.replace("/portal/hk/", "https://www.netsuite.com.hk/portal/hk/"); // replaces /portal/hk/ with https://www.netsuite.com.hk/portal/hk/
}

// INSERTS THE TAGS INTO THE HEADER SECTION
if (document.querySelectorAll('link[rel="canonical"]').length === 0 && canonical != '') {
	var meta = document.createElement('link');
	meta.setAttribute('rel', 'canonical');
	meta.setAttribute('href', canonical);
	document.getElementsByTagName('head')[0].appendChild(meta);
}